From: Alessandro Ghedini <al3xbio@gmail.com>
Date: Sun, 1 May 2011 21:14:34 +0200
Subject: fix CFLAGS and LDFAGS conditional variables

CFLAGS and LDFLAGS are assigned using the conditional variable assignment
operator (?=). Since dpkg-buildflags also set those variables they don't get
defined in the Makefile, making the build fail.
---
 Makefile |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/Makefile b/Makefile
index f77db02..639d40a 100644
--- a/Makefile
+++ b/Makefile
@@ -33,9 +33,9 @@ ifeq ($(uname_S),Darwin)
   STLIBNAME?=$(LIBNAME).$(STLIBSUFFIX)
   STLIB_MAKE_CMD?=libtool -static -o $(STLIBNAME) -
 else
-  CFLAGS?=$(OPTIMIZATION) -fPIC -Wall -W -Wstrict-prototypes -Wwrite-strings $(ARCH) $(PROF)
+  CFLAGS=$(OPTIMIZATION) -fPIC -Wall -W -Wstrict-prototypes -Wwrite-strings $(ARCH) $(PROF)
   CCLINK?=-lm -pthread
-  LDFLAGS?=-L. -Wl,-rpath,.
+  LDFLAGS=-L. -Wl,-rpath,.
   DYLIBSUFFIX=so
   STLIBSUFFIX=a
   DYLIBNAME?=$(LIBNAME).$(DYLIBSUFFIX).$(VERSION)
-- 
